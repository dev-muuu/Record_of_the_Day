# ItemDecoration

## ItemTouchHelper

- RecyclerView itemì— ëŒ€í•´ swipe/dragë¥¼ ìœ„í•œ ìœ ìš©í•œ í´ë˜ìŠ¤
- override method
    - `ItemTouchHelper.Callback.onMove(RecyclerView, ViewHolder, ViewHolder)`
    - `ItemTouchHelper.Callback.onSwiped(ViewHolder, int)`
- íŠ¹ì •í•œ ìƒí™©ë“¤ì„ ìœ„í•œ ë””ìì¸ custom ê°€ëŠ¥
    - `ItemTouchHelper.Callback` í´ë˜ìŠ¤ ë©”ì„œë“œ ìƒì†
    - `ItemTouchHelper.ViewDropHandler` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
- itemì˜ translate X/Y ì†ì„± ì´ìš©í•´ custom ê°€ëŠ¥
    - `ItemTouchHelper.Callback.onChildDraw(Canvas, RecyclerView, ViewHolder, float, float, int, boolean)`
    - `ItemTouchHelper.Callback.onChildDrawOver(Canvas, RecyclerView, ViewHolder, float, float, int, boolean)`
    

### # methods

- **onDraw**
    - item viewê°€ ê·¸ë ¤ì§€ê¸° ì „ì— ë‚´ìš©ë¬¼ì´ ê·¸ë ¤ì§
    - item view ì•„ë˜ì— ê·¸ë ¤ì§€ê²Œ ë¨
- **onDrawOver**
    - item viewê°€ ê·¸ë ¤ì§„ ì´í›„ ë‚´ìš©ë¬¼ì´ ê·¸ë ¤ì§
    - item view ìœ„ì— ê·¸ë ¤ì§€ê²Œ ë¨
    

---

## ItemTouchHelper.Callback

<aside>
ğŸ’¡ This class is the contract between ItemTouchHelper and your application. It lets you control which touch behaviors are enabled per each ViewHolder and also receive callbacks when user performs these actions.

</aside>

â‡’ ì‚¬ìš©ìê°€ actionì„ ìˆ˜í–‰í•  ê²½ìš°, í•´ë‹¹ actionì— ëŒ€í•œ callbackì„ ë°›ì„ ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤

- `getMovementFlags(RecyclerView, ViewHolder)`
    - ê°ê°ì˜ Viewì— ì‚¬ìš©ìì˜ actionì„ í†µì œí•˜ê¸° ìœ„í•´ override í•„ìš”í•œ ë©”ì„œë“œ
    - ì ì ˆí•œ ë°©í–¥ flagsë“¤ return í•„ìš”
    - `makeMovementFlags(int, int)` í†µí•´ ì‰½ê²Œ ì‘ì„± ê°€ëŠ¥

- `onSwiped(ViewHolder, int)`
    - viewê°€ swipe ë  ê²½ìš° í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ
    
- `getDefaultUIUtil()`
    - ì‚¬ìš©ìì˜ interactionì— ë°˜ì‘í•˜ì—¬ visual changeì— ì‚¬ìš©ë˜ëŠ” `ItemTouchUIUtil` ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ
    - íŠ¹ì • ë·°ë¥¼ ì´ë™ì‹œí‚¬ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    
- `clearView(RecyclerView,RecyclerView.ViewHolder)`
    - ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš©ì´ ëë‚˜ê±°ë‚˜, ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚˜ë©´ í˜¸ì¶œ
    - ëª¨ë“  ë³€í™”ë¥¼ clear í•  ë•Œ ì‚¬ìš©ë¨
    

#

### ItemTouchHelper í†µí•œ Swipe êµ¬í˜„

<img src="image/2022_03_05/pic2.png" width="50%"/>

ìœ„ì˜ ì‚¬ì§„ê³¼ ê°™ì´ RecyclerViewì˜ itemì„ swipe í•  ê²½ìš°, 

ë§¨ ìœ„ì˜ viewë§Œ ì´ë™ì‹œì¼œ í•˜ìœ„ viewê°€ ë³´ì—¬ì§€ë„ë¡ êµ¬í˜„í•  ê²ƒì´ë‹¤ (í•˜ìœ„ viewëŠ” ì›€ì§ì´ë©´ ì•ˆëœë‹¤.)    
#

ê³µì‹ë¬¸ì„œ ì˜ˆì œ ì½”ë“œ

```java
public void clearView(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder){
         getDefaultUIUtil().clearView(((ItemTouchViewHolder) viewHolder).textView);
     }
     public void onSelectedChanged(RecyclerView.ViewHolder viewHolder, int actionState) {
         if (viewHolder != null){
             getDefaultUIUtil().onSelected(((ItemTouchViewHolder) viewHolder).textView);
         }
     }
     public void onChildDraw(Canvas c, RecyclerView recyclerView,
             RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState,
             boolean isCurrentlyActive) {
         getDefaultUIUtil().onDraw(c, recyclerView,
                 ((ItemTouchViewHolder) viewHolder).textView, dX, dY,
                 actionState, isCurrentlyActive);
         return true;
     }
```

generateì„ í†µí•´ ìë™ìœ¼ë¡œ onChildDraw() ë©”ì„œë“œë¥¼ override í•˜ê²Œ ë˜ë©´, 

```java
super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);
```

ì½”ë“œê°€ ì‘ì„±ë˜ê²Œ ëœë‹¤. 

í•´ë‹¹ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ë‘ê²Œ ë  ê²½ìš°, ë‚´ê°€ ì˜ë„í•œ swipe ì‹œí‚¬ viewë§Œ ì›€ì§ì´ê²Œ ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ë’¤ì˜ viewë„ ì•ì— ë†“ì¸ viewë¥¼ ë”°ë¼ ê°™ì´ swipeë˜ê²Œ ëœë‹¤. 

<img src="image/2022_03_05/screen1.png" width="40%"/>

ìœ„ì˜ ì½”ë“œë¥¼ ì œê±°í•´ì•¼ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ë‚´ê°€ ì›í•˜ë˜ viewë§Œ swipeê°€ ê°€ëŠ¥í•´ì§„ë‹¤.

<img src="image/2022_03_05/screen2.png" width="40%"/>

ì¶”ê°€ë¡œ, onChildDraw()ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚´í´ë³´ë©´ dX, dYê°€ ìˆë‹¤. 

dX ê°’ì´ ì–‘ìˆ˜ì¸ì§€ ìŒìˆ˜ì¸ì§€ë¥¼ êµ¬ë¶„í•  ê²½ìš°(ë°©í–¥ì— ë”°ë¼ ê²°ì •ë¨), ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ê°ê°ì— ì›í•˜ëŠ” customì´ ê°€ëŠ¥í•´ì§„ë‹¤. 

ì´ë•Œ dXì˜ ë¶€í˜¸ íŒë‹¨ì€ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤. 

<img src="image/2022_03_05/pic1.png" width="50%"/>

ë‚´ê°€ ì•±ì„ ì‚¬ìš©í•˜ë©´ì„œ RecyclerViewì˜ itemì„ swipe í•œë‹¤ê³  ê°€ì •í•  ë•Œ, ë‚˜ì˜ ì†ê°€ë½ì´ yì¶•ì´ ëœë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤. 

ë‚´ ì†ê°€ë½ì„ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½ìœ¼ë¡œ ê°€ë©´ ìŒì˜ ë¶€í˜¸ë¥¼, ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ë©´ ì–‘ì˜ ë¶€í˜¸ë¥¼ ë„ê²Œ ëœë‹¤. 

#
@ ì°¸ê³ 

[https://velog.io/@trycatch98/Android-RecyclerView-Swipe-Menu](https://velog.io/@trycatch98/Android-RecyclerView-Swipe-Menu)
